ü§ñ RAG-BOT: Asistente Multiplataforma (Telegram & WhatsApp) con GeminiEste repositorio contiene la arquitectura y el c√≥digo base para desplegar un asistente de soporte conversacional capaz de responder preguntas de usuarios exclusivamente bas√°ndose en la informaci√≥n contenida en documentos previamente cargados. El sistema utiliza el modelo Google Gemini junto con el patr√≥n Retrieval-Augmented Generation (RAG) para garantizar respuestas precisas, contextuales y libres de alucinaciones.üåü Caracter√≠sticas PrincipalesRAG Documental: Las respuestas se generan √∫nicamente a partir de la documentaci√≥n empresarial cargada en el almac√©n de b√∫squeda de Google.Arquitectura Modular: Implementaci√≥n de una arquitectura de capas (Controlador, Servicio, Repositorio) para la gesti√≥n limpia de la conexi√≥n, el almacenamiento de documentos y la l√≥gica del modelo.Soporte Multiplataforma: Capacidad de desplegar el mismo backend de IA en dos canales de comunicaci√≥n clave:WhatsApp: Integraci√≥n a trav√©s de la API Oficial de Meta Business.Telegram: Integraci√≥n a trav√©s de la API de Bots de Telegram.üèóÔ∏è Arquitectura del Sistema (Capas)El programa est√° dividido en tres capas principales que aseguran la robustez y el f√°cil mantenimiento:Conexi√≥n/Controlador: Act√∫a como la interfaz de usuario (el bot de Telegram/WhatsApp) y el punto de entrada para todas las peticiones, delegando la tarea a las capas inferiores.Almac√©n (AlmacenGemini): Responsable de la gesti√≥n del ciclo de vida de los documentos, incluyendo la subida, indexaci√≥n y obtenci√≥n del ID del FileSearchStore necesario para el RAG.Servicio (ServicioGemini): Contiene la l√≥gica central de la IA. Es el punto donde se configura la llamada a la API de Gemini, inyectando el historial de conversaci√≥n y la herramienta FileSearch (RAG) con las instrucciones del sistema.‚öôÔ∏è Requisitos de Configuraci√≥nPara poner en marcha este bot, necesitar√°s las siguientes credenciales y entorno:1. Variables de EntornoDebes crear un archivo .env o configurar las siguientes variables:VariableProp√≥sitoCLAVE_API_GEMINILa clave de la API de Google AI Studio (requerida para Gemini y RAG).TELEGRAM_BOT_TOKENEl token obtenido de BotFather (solo para el despliegue en Telegram).WHATSAPP_ACCESS_TOKENEl Token de Acceso Temporal/Permanente de Meta (solo para el backend de WhatsApp).WHATSAPP_VERIFY_TOKENLa contrase√±a secreta utilizada para verificar el Webhook de Meta.2. Documentaci√≥nColoca todos los archivos de documentaci√≥n (PDF, TXT, etc.) en la carpeta designada (ej. ./Documentos).El sistema se encargar√° autom√°ticamente de subir e indexar estos archivos en el FileSearchStore de Gemini durante la inicializaci√≥n.üöÄ Despliegue y Ejecuci√≥nRequisitos PreviosPython 3.8+Instalar dependencias: pip install -r requirements.txt (asumiendo que google-genai, flask/fastapi, python-telegram-bot, openai y requests est√°n incluidas).Inicializaci√≥nEl script principal (main.py o similar) debe inicializar la arquitectura de la siguiente manera:Crear instancia de ControladorGemini(CLAVE_API).Llamar a controlador.repositorio.iniciar_rag(...) para indexar documentos.Inicializar el backend del bot (Flask/FastAPI para WhatsApp o la librer√≠a python-telegram-bot para Telegram).üìû Integraci√≥n con WhatsApp (Meta Business API)Para que Meta apruebe esta aplicaci√≥n y la use en producci√≥n, se confirma lo siguiente:Uso Leg√≠timo: Este proyecto tiene el prop√≥sito leg√≠timo de automatizar el soporte documental, reduciendo la carga de agentes humanos y garantizando la consistencia de las respuestas.Fuente de Informaci√≥n √önica: Se establece una instrucci√≥n de sistema estricta para que el modelo Gemini solo responda utilizando los documentos proporcionados, eliminando informaci√≥n externa y alucinaciones.Webhook Activo: El servidor aloja un Webhook (/webhook) para la comunicaci√≥n bidireccional, recibiendo mensajes de Meta y enviando la respuesta generada por RAG.